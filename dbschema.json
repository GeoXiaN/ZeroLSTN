{
	"db_name": "ZeroLSTN",
	"db_file": "merged-ZeroLSTN2/ZeroLSTN.db",
	"version": 3,
	"maps": {
		".+/data/users/.+/content.json": {
			"to_json_table": ["cert_user_id"],
			"file_name": "data.json"
		},
		".+/data/users/.+/data.json": {
			"to_table": [
				{"table": "songs", "node": "songs", "key_col": "id"},
        {"table": "artwork", "node": "artwork", "key_col": "hash"},
        {"tables": "genres", "node": "genres", "key_col": "id"}
			]
		},
		"1idx27vRHSGXZeEhQrxwMRopGhjNrb3bk/data/users/.+/data.json": {
			"to_table": [
				{"table": "mergers", "node": "mergers", "key_col": "address"}
			]
		}
	},
	"tables": {
		"json": {
			"cols": [
				["json_id", "INTEGER PRIMARY KEY AUTOINCREMENT"],
				["site", "TEXT"],
				["directory", "TEXT"],
				["file_name", "TEXT"],
				["cert_user_id", "TEXT"]
			],
			"indexes": ["CREATE UNIQUE INDEX path ON json(directory, site, file_name)"],
			"schema_changed": 3
		},
		"songs": {
			"cols": [
        ["id", "TEXT"],
				["track_number", "INTEGER"],
				["filename", "TEXT"],
				["title", "TEXT"],
				["artist", "TEXT"],
        ["album", "TEXT"],
        ["art", "TEXT"],
        ["year", "INTEGER"],
        ["date_added", "INTEGER"],
        ["is_edit", "INTEGER"],
				["json_id", "INTEGER REFERENCES json (json_id)"]
			],
			"indexes": ["CREATE UNIQUE INDEX song_id ON songs(json_id, id)"],
			"schema_changed": 5
    },
    "genres": {
      "cols": [
        ["id", "TEXT"],
        ["song_id", "TEXT"],
        ["genre", "TEXT"]
      ]
    },
		"mergers": {
			"cols": [
				["address", "TEXT"],
				["name", "TEXT"],
				["date_added", "INTEGER"],
				["json_id", "INTEGER REFERENCES json (json_id)"]
			],
			"indexes": ["CREATE UNIQUE INDEX addresses_address ON addresses(json_id, address)"],
			"schema_changed": 2
		},
		"artwork": {
			"cols": [
				["hash", "TEXT"],
				["image_path", "TEXT"],
				["date_added", "INTEGER"],
				["json_id", "INTEGER REFERENCES json (json_id)"]
			],
			"indexes": ["CREATE UNIQUE INDEX artwork_hash ON artwork(json_id, hash)"],
			"schema_changed": 1
		}
	}
}
